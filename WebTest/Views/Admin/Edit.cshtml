@using DataAccessLayer.Model
@model Problem
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div id="content" class="row panel well">
    <div class="panel-heading"><h1>Admin panel</h1></div>
    <div class="col-md-3">
        @Html.Partial("Menu")
    </div>
    <div class="col-md-9">
        @Html.ValidationSummary(false,"", new { @class = ViewContext.ViewData.ModelState.IsValid ? "" : "alert alert-danger" })
        @using (Html.BeginForm("Edit", "Admin", FormMethod.Post, new { @class = "form-horizontal" }))
        {
            @Html.HiddenFor(p => p.ProblemId)
            <div class="form-group">
                <label class="col-sm-2 control-label">Cím: </label>
                <div class="col-sm-10">
                    @Html.TextBoxFor(p => p.Title, new { @class = "form-control" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Leírás: </label>
                <div class="col-sm-10">
                    @Html.TextAreaFor(p => p.Description, new { @class = "form-control", rows = 10 })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Séma: </label>
                <div class="col-sm-10">
                    @Html.TextAreaFor(p => p.Template, new { @class = "form-control", rows = 20 })
                </div>
            </div>           
            <div class="btn-toolbar center-block" style="margin-left:200px">
                <input type="submit" class="btn btn-primary" value="Save" style="width:200px;margin-right:30px" />
                @Html.ActionLink("Cancel", "Index", "Admin", null, new { @class = "btn btn-danger", style="width:200px" })
            </div>
        }
    </div>
</div>


<script type="text/javascript">

    var cEditor = CodeMirror.fromTextArea(document.getElementById("Template"), {
        lineNumbers: true,
        matchBrackets: true,
        mode: "text/x-csharp"
    });
</script>